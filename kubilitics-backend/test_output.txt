=== RUN   TestAPI_GET_ShellStatus_ReturnsContextAndNamespace
--- PASS: TestAPI_GET_ShellStatus_ReturnsContextAndNamespace (0.01s)
=== RUN   TestAPI_GET_KCLITUIState_ReturnsContextAndNamespace
--- PASS: TestAPI_GET_KCLITUIState_ReturnsContextAndNamespace (0.00s)
=== RUN   TestAPI_GET_ShellComplete_FileFlagPathCompletion
--- PASS: TestAPI_GET_ShellComplete_FileFlagPathCompletion (0.00s)
=== RUN   TestAPI_GET_KCLIComplete_FileFlagPathCompletion
--- PASS: TestAPI_GET_KCLIComplete_FileFlagPathCompletion (0.00s)
=== RUN   TestAPI_GET_Clusters_Returns200AndArray
--- PASS: TestAPI_GET_Clusters_Returns200AndArray (0.00s)
=== RUN   TestAPI_GET_Health_Returns200
--- PASS: TestAPI_GET_Health_Returns200 (0.00s)
=== RUN   TestAPI_POST_Shell_BlockedVerb_Returns400
--- PASS: TestAPI_POST_Shell_BlockedVerb_Returns400 (0.00s)
=== RUN   TestAPI_POST_Shell_EmptyCommand_Returns200
--- PASS: TestAPI_POST_Shell_EmptyCommand_Returns200 (0.06s)
=== RUN   TestValidateKCLIArgs
=== RUN   TestValidateKCLIArgs/sanitizes_and_allows_safe_command
=== RUN   TestValidateKCLIArgs/rejects_blocked_flag
=== RUN   TestValidateKCLIArgs/rejects_unknown_command
=== RUN   TestValidateKCLIArgs/requires_force_for_mutating
=== RUN   TestValidateKCLIArgs/rejects_plugin_command_on_non-interactive_exec
--- PASS: TestValidateKCLIArgs (0.00s)
    --- PASS: TestValidateKCLIArgs/sanitizes_and_allows_safe_command (0.00s)
    --- PASS: TestValidateKCLIArgs/rejects_blocked_flag (0.00s)
    --- PASS: TestValidateKCLIArgs/rejects_unknown_command (0.00s)
    --- PASS: TestValidateKCLIArgs/requires_force_for_mutating (0.00s)
    --- PASS: TestValidateKCLIArgs/rejects_plugin_command_on_non-interactive_exec (0.00s)
=== RUN   TestPostKCLIExec_RequiresDestructiveHeader
--- PASS: TestPostKCLIExec_RequiresDestructiveHeader (0.00s)
=== RUN   TestPostKCLIExec_RateLimited
{"time":"2026-02-17T07:48:26.708191+05:30","level":"INFO","msg":"audit","event":"{\"time\":\"2026-02-17T02:18:26.70807Z\",\"action\":\"kcli_exec\",\"cluster_id\":\"cluster-kcli-limit-id\",\"command\":\"--context demo-ctx get pods\",\"outcome\":\"failure\",\"message\":\"non-zero exit\",\"exit_code\":1,\"duration_ms\":110}"}
    kcli_policy_test.go:119: first request status = 200, want 503 body={"exitCode":1,"stderr":"Error in configuration: context was not found for specified context: demo-ctx\nexit status 1\n","stdout":""}
--- FAIL: TestPostKCLIExec_RateLimited (0.11s)
=== RUN   TestGetKCLIStream_ShellModeDisabled
--- PASS: TestGetKCLIStream_ShellModeDisabled (0.00s)
=== RUN   TestCompletionWords_TrailingWhitespaceAddsEmptyToken
=== RUN   TestCompletionWords_TrailingWhitespaceAddsEmptyToken/no_trailing_space
=== RUN   TestCompletionWords_TrailingWhitespaceAddsEmptyToken/trailing_space
=== RUN   TestCompletionWords_TrailingWhitespaceAddsEmptyToken/multiple_spaces_trailing
=== RUN   TestCompletionWords_TrailingWhitespaceAddsEmptyToken/empty_line
--- PASS: TestCompletionWords_TrailingWhitespaceAddsEmptyToken (0.00s)
    --- PASS: TestCompletionWords_TrailingWhitespaceAddsEmptyToken/no_trailing_space (0.00s)
    --- PASS: TestCompletionWords_TrailingWhitespaceAddsEmptyToken/trailing_space (0.00s)
    --- PASS: TestCompletionWords_TrailingWhitespaceAddsEmptyToken/multiple_spaces_trailing (0.00s)
    --- PASS: TestCompletionWords_TrailingWhitespaceAddsEmptyToken/empty_line (0.00s)
=== RUN   TestFileFlagCompletions
=== RUN   TestFileFlagCompletions/separate_-f_value
=== RUN   TestFileFlagCompletions/inline_-f_value
=== RUN   TestFileFlagCompletions/--kustomize_directory
=== RUN   TestFileFlagCompletions/irrelevant_verb_returns_nil
=== RUN   TestFileFlagCompletions/results_are_sorted_and_capped
--- PASS: TestFileFlagCompletions (0.02s)
    --- PASS: TestFileFlagCompletions/separate_-f_value (0.00s)
    --- PASS: TestFileFlagCompletions/inline_-f_value (0.00s)
    --- PASS: TestFileFlagCompletions/--kustomize_directory (0.00s)
    --- PASS: TestFileFlagCompletions/irrelevant_verb_returns_nil (0.00s)
    --- PASS: TestFileFlagCompletions/results_are_sorted_and_capped (0.01s)
=== RUN   TestReadKCLIAIEnabledFromConfig
=== RUN   TestReadKCLIAIEnabledFromConfig/enabled_true
=== RUN   TestReadKCLIAIEnabledFromConfig/provider_only
=== RUN   TestReadKCLIAIEnabledFromConfig/disabled_config
--- PASS: TestReadKCLIAIEnabledFromConfig (0.00s)
    --- PASS: TestReadKCLIAIEnabledFromConfig/enabled_true (0.00s)
    --- PASS: TestReadKCLIAIEnabledFromConfig/provider_only (0.00s)
    --- PASS: TestReadKCLIAIEnabledFromConfig/disabled_config (0.00s)
FAIL
FAIL	github.com/kubilitics/kubilitics-backend/internal/api/rest	0.835s
FAIL
